# -*- coding: utf-8 -*-
def event_m10_31_10():
    """Duel start"""
    """State 0,2: [Lib] [Asynchronous] [Preset] Duel start_SubState"""
    assert (event_m10_31_x19(z43=10310400, z44=10310401, z45=10310402, z46=10310403, z47=10310404, z48=10310405,
            z49=10, z50=16))
    """State 1: Finish"""
    EndMachine()

def event_m10_31_2000():
    """Drawbridge"""
    """State 0,2: [Preset] Working Bridge_SubState"""
    assert event_m10_31_x46(z22=10312000, z23=10311010, z24=200000)
    """State 1: Finish"""
    EndMachine()

def event_m10_31_3000():
    """Boss battle_scaffold expansion"""
    """State 0,2: [Preset] Scaffold extension_SubState"""
    assert (event_m10_31_x51(z15=10312010, z16=10311011, z17=10311012, z18=300000, z19=300001, z20=131000025,
            z21=131000026))
    """State 1: Finish"""
    EndMachine()

def event_m10_31_5000():
    """Boss: Heavy cavalry: Soldier only_Battle"""
    """State 0,2: [Preset] Heavy Cavalry: Soldiers only_Boss Battle_SubState"""
    assert (event_m10_31_x62(z1=131000081, z2=500000, z3=500000, z4=101, z5=1031000, z6=131020080, z7=842,
            mode1=0))
    """State 1: Finish"""
    EndMachine()

def event_m10_31_6000():
    """Boss: Ornstein_Battle"""
    """State 0,2: [Lib] [Preset] Boss Battle Cut Scene No _SubState"""
    assert (event_m10_31_x5(z54=131000086, z55=600000, z56=600000, z57=102, z58=1031010, z59=131020085,
            mode5=0))
    """State 1: Finish"""
    EndMachine()

def event_m10_31_6010():
    """Pillars and chairs destroyed 1"""
    """State 0,2: [Preset] Pillars and chairs to be destroyed _SubState"""
    assert event_m10_31_x57(z13=10313000, z14=601000)
    """State 1: Finish"""
    EndMachine()

def event_m10_31_6020():
    """Pillar and chair 2 to be destroyed"""
    """State 0,2: [Preset] Pillars and chairs to be destroyed _SubState"""
    assert event_m10_31_x57(z13=10313001, z14=602000)
    """State 1: Finish"""
    EndMachine()

def event_m10_31_6030():
    """Pillars and chairs destroyed 3"""
    """State 0,2: [Preset] Pillars and chairs to be destroyed _SubState"""
    assert event_m10_31_x57(z13=10313002, z14=603000)
    """State 1: Finish"""
    EndMachine()

def event_m10_31_6040():
    """Pillars and chairs 4 destroyed"""
    """State 0,2: [Preset] Pillars and chairs to be destroyed _SubState"""
    assert event_m10_31_x57(z13=10313003, z14=604000)
    """State 1: Finish"""
    EndMachine()

def event_m10_31_6090():
    """Pillar and chair 9 destroyed"""
    """State 0,2: [Preset] Pillars and chairs to be destroyed _SubState"""
    assert event_m10_31_x57(z13=10313008, z14=609000)
    """State 1: Finish"""
    EndMachine()

def event_m10_31_6100():
    """10 pillars and chairs to be destroyed"""
    """State 0,2: [Preset] Pillars and chairs to be destroyed _SubState"""
    assert event_m10_31_x57(z13=10313009, z14=610000)
    """State 1: Finish"""
    EndMachine()

def event_m10_31_6110():
    """Pillars and chairs to be destroyed 11"""
    """State 0,2: [Preset] Pillars and chairs to be destroyed _SubState"""
    assert event_m10_31_x57(z13=10313010, z14=611000)
    """State 1: Finish"""
    EndMachine()

def event_m10_31_6120():
    """Pillars and chairs destroyed 12"""
    """State 0,2: [Preset] Pillars and chairs to be destroyed _SubState"""
    assert event_m10_31_x57(z13=10313011, z14=612000)
    """State 1: Finish"""
    EndMachine()

def event_m10_31_6170():
    """Pillars and chairs 17 destroyed"""
    """State 0,2: [Preset] Pillars and chairs to be destroyed _SubState"""
    assert event_m10_31_x57(z13=10313016, z14=617000)
    """State 1: Finish"""
    EndMachine()

def event_m10_31_6180():
    """Pillars and chairs destroyed 18"""
    """State 0,2: [Preset] Pillars and chairs to be destroyed _SubState"""
    assert event_m10_31_x57(z13=10313017, z14=618000)
    """State 1: Finish"""
    EndMachine()

def event_m10_31_6190():
    """Pillars and chairs destroyed 19"""
    """State 0,2: [Preset] Pillars and chairs to be destroyed _SubState"""
    assert event_m10_31_x57(z13=10313018, z14=619000)
    """State 1: Finish"""
    EndMachine()

def event_m10_31_6200():
    """20 pillars and chairs to be destroyed"""
    """State 0,2: [Preset] Pillars and chairs to be destroyed _SubState"""
    assert event_m10_31_x57(z13=10313019, z14=620000)
    """State 1: Finish"""
    EndMachine()

def event_m10_31_6210():
    """21 pillars and chairs to be destroyed"""
    """State 0,2: [Preset] Pillars and chairs to be destroyed _SubState"""
    assert event_m10_31_x57(z13=10313020, z14=621000)
    """State 1: Finish"""
    EndMachine()

def event_m10_31_6220():
    """Pillars and chairs 22 to be destroyed"""
    """State 0,2: [Preset] Pillars and chairs to be destroyed _SubState"""
    assert event_m10_31_x57(z13=10313021, z14=622000)
    """State 1: Finish"""
    EndMachine()

def event_m10_31_6270():
    """Pillars and chairs destroyed 27"""
    """State 0,2: [Preset] Pillars and chairs to be destroyed _SubState"""
    assert event_m10_31_x57(z13=10313026, z14=627000)
    """State 1: Finish"""
    EndMachine()

def event_m10_31_6280():
    """Pillars and chairs destroyed 28"""
    """State 0,2: [Preset] Pillars and chairs to be destroyed _SubState"""
    assert event_m10_31_x57(z13=10313027, z14=628000)
    """State 1: Finish"""
    EndMachine()

def event_m10_31_6290():
    """Pillars and chairs 29 to be destroyed"""
    """State 0,2: [Preset] Pillars and chairs to be destroyed _SubState"""
    assert event_m10_31_x57(z13=10313028, z14=629000)
    """State 1: Finish"""
    EndMachine()

def event_m10_31_6300():
    """30 pillars and chairs to be destroyed"""
    """State 0,2: [Preset] Pillars and chairs to be destroyed _SubState"""
    assert event_m10_31_x57(z13=10313029, z14=630000)
    """State 1: Finish"""
    EndMachine()

def event_m10_31_6310():
    """Pillar and chair 31 to be destroyed"""
    """State 0,2: [Preset] Pillars and chairs to be destroyed _SubState"""
    assert event_m10_31_x57(z13=10313030, z14=631000)
    """State 1: Finish"""
    EndMachine()

def event_m10_31_6320():
    """[Group condition: Character] Player special effects"""
    """State 0,2: [Preset] Pillars and chairs to be destroyed _SubState"""
    assert event_m10_31_x57(z13=10313031, z14=632000)
    """State 1: Finish"""
    EndMachine()

def event_m10_31_7000():
    """The gimmick door between Madura and Heide Great Fire Tower"""
    """State 0,2: [Preset] Madura-Heide Great Fire Tower Gimmick Door_SubState"""
    assert event_m10_31_x39(z25=10312020, z26=10311020, z27=10311015, z28=700000, z29=700001, z30=700002)
    """State 1: Rerun"""
    RestartMachine()

def event_m10_31_8000():
    """Lever Appearing from the Floor_Boss Battle Scaffold Expansion 1"""
    """State 0,2: [Preset] Lever appearing from the floor_SubState"""
    assert (event_m10_31_x54(z8=10311105, z9=10311011, z10=1020, mode2=0, mode3=0, mode4=0, z11=800000,
            z12=131000020))
    """State 1: Finish"""
    EndMachine()

def event_m10_31_8010():
    """Lever Appearing from the Floor_Boss Battle Scaffold Expansion 2"""
    """State 0,2: [Preset] Lever appearing from the floor_SubState"""
    assert (event_m10_31_x54(z8=10311110, z9=10311012, z10=1030, mode2=0, mode3=0, mode4=0, z11=801000,
            z12=131000021))
    """State 1: Finish"""
    EndMachine()

def event_m10_31_8020():
    """Lever emerging from the floor"""
    """State 0,2: [Preset] Lever appearing from the floor_SubState"""
    assert (event_m10_31_x54(z8=10311100, z9=10311010, z10=1080, mode2=0, mode3=0, mode4=0, z11=802000,
            z12=131000022))
    """State 1: Finish"""
    EndMachine()

def event_m10_31_9000():
    """Switching of Madura's revolving door related flags"""
    """State 0,2: [Lib] [Preset] Switch connection flag when in map_SubState"""
    assert event_m10_31_x17(z52=105400, z53=0)
    """State 1: Rerun"""
    RestartMachine()

def event_m10_31_10000():
    """Connection flag OFF"""
    """State 0,2: [Lib] [Preset] Switch connection flag when in map_SubState"""
    assert event_m10_31_x17(z52=105415, z53=0)
    """State 1: Rerun"""
    RestartMachine()

def event_m10_31_70000():
    """Duel request"""
    """State 0,2: [Lib] [Asynchronous] [Preset] Duel Request_Training_SubState"""
    # goods:62100000:Token of Fidelity
    assert event_m10_31_x31(z34=0, z35=10319000, z36=10319001, z37=10312100, z38=30, val1=2, goods1=62100000)
    """State 1: State"""
    EndMachine()

def event_m10_31_70010():
    """Duel Request_2"""
    """State 0,2: [Lib] [Asynchronous] [Preset] Duel Request_Training_SubState"""
    # goods:62100000:Token of Fidelity
    assert event_m10_31_x31(z34=1, z35=10319000, z36=10319001, z37=10312101, z38=30, val1=2, goods1=62100000)
    """State 1: State"""
    EndMachine()

def event_m10_31_70020():
    """Duel Request_3"""
    """State 0,2: [Lib] [Asynchronous] [Preset] Duel Request_Training_SubState"""
    # goods:62100000:Token of Fidelity
    assert event_m10_31_x31(z34=2, z35=10319000, z36=10319001, z37=10312102, z38=30, val1=2, goods1=62100000)
    """State 1: State"""
    EndMachine()

def event_m10_31_80000():
    """Rebirth Fire 01_ Lighthouse after Boss Heavy Cavalry"""
    """State 0,2: [Lib] [Preset] Reproduction fire _SubState"""
    assert event_m10_31_x28(z41=1031000, z42=1031099)
    """State 1: Finish"""
    EndMachine()

def event_m10_31_81000():
    """Regenerative fire 02_The rocks beside the starting point"""
    """State 0,2: [Lib] [Preset] Reproduction fire _SubState"""
    assert event_m10_31_x28(z41=1031100, z42=1031199)
    """State 1: Finish"""
    EndMachine()

def event_m10_31_82000():
    """After the rebirth of fire 03_Boss Öhnstein"""
    """State 0,2: [Lib] [Preset] Reproduction fire _SubState"""
    assert event_m10_31_x28(z41=1031200, z42=1031299)
    """State 1: Finish"""
    EndMachine()

def event_m10_31_x0(z67=_, z68=_, z69=_, z70=_):
    """[Lib] NPC: Grave Placement: General purpose
    z67: Death map: Global event flag
    z68: Tomb: OBJ instance ID
    z69: Tomb move to: Generator ID
    z70: NPC information parameter ID
    """
    """State 0,1: Grave Placement: Start"""
    IsPlayerInTheMap(0, 1, 0)
    assert ConditionGroup(0)
    """State 2: Grave placement: branch"""
    CompareEventFlag(8, z67, 1)
    IsGraveGeneratable(8, z70, 1)
    if ConditionGroup(8):
        """State 4: Grave Placement: Death"""
        ChangeOwnObjState(20)
        CompareObjState(0, z68, 20, 0)
        assert ConditionGroup(0)
        """State 6: Grave Placement: Warp Move"""
    else:
        """State 3: Grave Placement: Survival"""
        ChangeOwnObjState(10)
        CompareObjState(0, z68, 10, 0)
        assert ConditionGroup(0)
    """State 5: Grave Placement: System: Finish"""
    EndMachine()

def event_m10_31_x1(z64=_, z65=_, npc1=_):
    """[Lib] NPC: Grave: Key Guide: Key Guide
    z64: Global: death flag
    z65: Grave OBJ instance ID
    npc1: NPC information parameter ID
    """
    """State 0,1,5: Key guide: Grave display judgment"""
    CompareObjState(0, z65, 10, 0)
    CompareObjState(1, z65, 20, 0)
    if ConditionGroup(0):
        pass
    elif ConditionGroup(1):
        Goto('L0')
    """State 10: Key Guide: System: Exit"""
    EndMachine()
    Quit()
    """State 2: Key guide: Key guide display"""
    Label('L0')
    CreateKeyGuideArea(34, 610)
    """State 11: Key guide: Waiting for input"""
    IsObjSearched(0, z65)
    IsPlayerInTheMap(1, 0, 0)
    if ConditionGroup(0):
        """State 3: Key Guide: Use Soul dialog"""
        # action:1211:"[ChrName]\nOffer souls to grave?\nSouls needed: %d"
        DisplayOwnYesNoMenu(1211, 0, 190, 1, GraveSoulsRequired(npc1), NpcParamTextId(npc1))
        assert YesNoMenuDisplay() != 0
        """State 7: Key Guide: Use Soul dialog: Wait for input"""
        if (YesNoMenuResult() == 1) != 0 and (CurrentSouls() > GraveSoulsRequired(npc1)) != 1:
            """State 4: Key guide: Soul shortage dialog"""
            # action:1016:"Insufficient souls"
            DisplayOwnOkMenu(1016, 3, 15, 190, 0, 0, 0)
            assert OkMenuDisplay() != 0
            """State 8: Key guide: Soul shortage dialog: Waiting for input"""
            assert OkMenuDisplay() != 1
        elif (YesNoMenuResult() == 1) != 0:
            """State 9: Key guide: Delete key guide"""
            DeleteKeyGuideArea()
            """State 12: End state"""
            return 0
        elif (YesNoMenuResult() == 2) != 0:
            pass
        elif (YesNoMenuResult() == 3) != 0:
            pass
    elif ConditionGroup(1):
        pass
    """State 6: Key guide: Reset"""
    DeleteKeyGuideArea()
    RestartMachine()

def event_m10_31_x2(z62=_, z63=_, npc1=_):
    """[Lib] NPC: Grave: Key Guide: Appearance of Ghosts
    z62: Area other flags: Ghost appearance
    z63: Area other flags: Conversation start
    npc1: NPC information parameter ID
    """
    """State 0,5: Appearance of ghost: Player action starts"""
    PlayerActionRequest(6)
    IsPlayerPlayingMotion(0, 6, 1)
    assert ConditionGroup(0)
    """State 6: Ghost appearance: Seoul consumption"""
    AddSouls(-1 * GraveSoulsRequired(npc1))
    """State 7: Appearance of ghost: Waiting for player action"""
    CompareStateTime(0, 4, 2, 4)
    assert ConditionGroup(0)
    """State 1: Ghost appearance: Appearance"""
    SetEventFlag(z62, 1)
    CompareEventFlag(0, z62, 1)
    assert ConditionGroup(0)
    """State 8: Ghost appearance: waiting for completion"""
    CompareStateTime(0, 4, 2, 4)
    assert ConditionGroup(0)
    """State 3: Appearance of ghost: End of player action"""
    EndPlayerActionRequest()
    """State 2: Ghost appearance: Character action waiting"""
    IsPlayerPlayingMotion(0, 6, 0)
    assert ConditionGroup(0)
    """State 9: Ghost appearance: Waiting for conversation"""
    CompareStateTime(0, 2.1, 2, 2.1)
    assert ConditionGroup(0)
    """State 4: Ghost appearance: Conversation start flag"""
    SetEventFlag(z63, 1)
    CompareEventFlag(0, z63, 1)
    assert ConditionGroup(0)
    """State 10: End state"""
    return 0

def event_m10_31_x3(z62=_, z63=_, z64=_, z65=_, z66=_, npc1=_):
    """[Lib] NPC: Grave: Key guide: General purpose
    z62: Ghost Appearance: Area Other Flag
    z63: Conversation start: Area and other flags
    z64: Death: Global event flag
    z65: Tomb: OBJ instance ID
    z66: Grave event ID
    npc1: NPC information parameter ID
    """
    """State 0,1: Key guide: Start"""
    IsPlayerInTheMap(8, 1, 0)
    CompareEventStatus(8, z66, 1, 0)
    CompareEventFlag(9, z62, 1)
    CompareObjState(9, z65, 20, 0)
    if IsGuest() != 0:
        pass
    elif ConditionGroup(9):
        """State 3: Key guide: Start conversation: Set flag"""
        SetEventFlag(z63, 1)
        CompareEventFlag(0, z63, 1)
        assert ConditionGroup(0)
    elif ConditionGroup(8):
        """State 4: [Lib] NPC: Grave: Key Guide: Key Guide_SubState"""
        assert event_m10_31_x1(z64=z64, z65=z65, npc1=npc1)
        """State 5: [Lib] NPC: Grave: Key Guide: Ghost Appearance_SubState"""
        assert event_m10_31_x2(z62=z62, z63=z63, npc1=npc1)
    """State 2: Key Guide: System: Exit"""
    EndMachine()

def event_m10_31_x4(z60=150, z61=104321):
    """[Lib] NPC: Death determination: General purpose
    z60: Generator ID
    z61: Death map: Global event flag
    """
    """State 0,1: Death determination: Start"""
    IsPlayerInTheMap(0, 1, 0)
    if IsGuest() != 0:
        pass
    elif ConditionGroup(0):
        """State 3: Death determination: branch"""
        CompareEventFlag(0, z61, 1)
        if ConditionGroup(0):
            pass
        else:
            """State 2: Death determination: Wait"""
            IsChrDead(0, z60)
            assert ConditionGroup(0)
            """State 5: Death determination: death flag setting"""
            SetEventFlag(z61, 1)
            CompareEventFlag(0, z61, 1)
            assert ConditionGroup(0)
    """State 4: Death determination: System: End"""
    EndMachine()

def event_m10_31_x5(z54=131000086, z55=600000, z56=600000, z57=102, z58=1031010, z59=131020085, mode5=0):
    """[Lib] [Preset] Boss Battle Start
    z54: Boss destruction flag
    z55: Start point ID
    z56: End point ID
    z57: Sound ID
    z58: Boss Battle ID
    z59: Other flags for logic
    mode5: BGM stop time
    """
    """State 0,1: [Reproduction] Boss Battle_Start_SubState"""
    call = event_m10_31_x6(z54=z54)
    if call.Get() == 1:
        pass
    elif call.Get() == 0:
        """State 5: [Condition] Boss Battle_Start_SubState"""
        assert event_m10_31_x7(z55=z55, z56=z56)
        """State 3: [Execution] Boss Battle_Start_SubState"""
        assert event_m10_31_x8(z57=z57, z58=z58, z59=z59)
        """State 2: [Reproduction] Boss Battle_Sky_SubState"""
        assert event_m10_31_x9()
        """State 6: [Condition] Boss Battle_End Judgment_SubState"""
        assert event_m10_31_x10(z58=z58)
        """State 4: [Execution] Boss Battle_End_SubState"""
        assert event_m10_31_x11(z57=z57, z58=z58, z59=z59, mode5=mode5)
    """State 7: End state"""
    return 0

def event_m10_31_x6(z54=131000086):
    """[Reproduction] Boss Battle_Start
    z54: Boss destruction flag
    """
    """State 0,1: Are you destroying the boss?"""
    if GetEventFlag(z54) != 0:
        """State 3: Defeated the boss"""
        return 1
    else:
        """State 2: Not destroy the boss"""
        return 0

def event_m10_31_x7(z55=600000, z56=600000):
    """[Condition] Boss Battle_Start
    z55: Start point ID
    z56: End point ID
    """
    """State 0,1: Did you enter the boss room point?"""
    IsPlayerInsidePoint(8, z55, z56, 1)
    IsHost(8, 1, 0)
    SetConditionGroup(0, 8)
    IsPlayerInsidePoint(9, z55, z56, 1)
    IsHost(9, 0, 0)
    SetConditionGroup(0, 9)
    assert ConditionGroup(0)
    """State 2: End state"""
    return 0

def event_m10_31_x8(z57=102, z58=1031010, z59=131020085):
    """[Execution] Boss Battle_Start
    z57: Sound ID
    z58: Boss Battle ID
    z59: Other flags for logic
    """
    """State 0,3: Boss BGM playback"""
    PlaySoundAtPoint(z57)
    """State 1: Boss battle start notification"""
    StartBossFight(z58)
    """State 2: Boss battle flag notification for logic"""
    SetEventFlag(z59, 1)
    """State 4: End state"""
    return 0

def event_m10_31_x9():
    """[Reproduction] Boss Battle_Sky"""
    """State 0,1: End state"""
    return 0

def event_m10_31_x10(z58=1031010):
    """[Condition] Boss Battle_End Judgment
    z58: Boss Battle ID
    """
    """State 0,1: Did you beat the boss?"""
    IsEventBossKill(0, z58, 0, 1)
    assert ConditionGroup(0)
    """State 2: End state"""
    return 0

def event_m10_31_x11(z57=102, z58=1031010, z59=131020085, mode5=0):
    """[Execute] Boss Battle_End
    z57: Sound ID
    z58: Boss Battle ID
    z59: Other flags for logic
    mode5: BGM stop time
    """
    """State 0,1: Logic flag OFF"""
    SetEventFlag(z59, 0)
    """State 2: Boss battle end notification"""
    EndBossFight(z58)
    """State 4: BGM stop standby"""
    assert (GetStateTime() > mode5) != 0
    """State 3: Boss BGM stop"""
    StopSoundAtPoint(z57)
    """State 5: End state"""
    return 0

def event_m10_31_x12():
    """[Lib] [Reproduction] Dummy"""
    """State 0,1: End state"""
    return 0

def event_m10_31_x13():
    """[Lib] [Condition] Dummy"""
    """State 0,1: End state"""
    return 0

def event_m10_31_x14():
    """[Lib] [Reproduction] Switch the connection flag when in the map"""
    """State 0,1: End state"""
    return 0

def event_m10_31_x15():
    """[Lib] [Condition] Switch to connection flag when in map"""
    """State 0,1: Are you in the map?"""
    IsPlayerInTheMap(0, 1, 0)
    assert ConditionGroup(0)
    """State 2: End state"""
    return 0

def event_m10_31_x16(z52=_, z53=0):
    """[Lib] [Execution] Switch to connection flag when in map
    z52: Global event flag for connection
    z53: Flag switching
    """
    """State 0,1: Switch global event flag for connection"""
    SetEventFlag(z52, z53)
    """State 2: Wait for flag transition"""
    CompareEventFlag(0, z52, z53)
    assert ConditionGroup(0)
    """State 3: For next judgment: Did you get out of the map?"""
    IsPlayerInTheMap(0, 0, 0)
    assert ConditionGroup(0)
    """State 4: End state"""
    return 0

def event_m10_31_x17(z52=_, z53=0):
    """[Lib] [Preset] Switch the connection flag when in the map
    z52: Global event flag for connection
    z53: Flag switching
    """
    """State 0,1: [Lib] [Reproduction] Switch connection flag when in map_SubState"""
    assert event_m10_31_x14()
    """State 3: [Lib] [Condition] Switch to the connection flag when in the map_SubState"""
    assert event_m10_31_x15()
    """State 2: [Lib] [Execution] Switch to connection flag when in map _SubState"""
    assert event_m10_31_x16(z52=z52, z53=z53)
    """State 4: End state"""
    return 0

def event_m10_31_x18(z51=_):
    """[Lib] NPC White Phantom Appearance: Unconditional
    z51: Generator ID
    """
    """State 0,1: Appearance: Start"""
    IsPlayerInTheMap(0, 1, 0)
    if IsGuest() != 0:
        pass
    elif ConditionGroup(0):
        """State 2: Appearance: Phantom appearance permission"""
        GenerateNpcPhantom(z51)
    """State 3: Appearance: System: End"""
    EndMachine()

def event_m10_31_x19(z43=10310400, z44=10310401, z45=10310402, z46=10310403, z47=10310404, z48=10310405,
                     z49=10, z50=16):
    """[Lib] [Asynchronous] [Preset] Duel start
    z43: Door instance IDA
    z44: Door instance IDB
    z45: Door instance IDC
    z46: Door instance IDD
    z47: Door instance IDE
    z48: Door instance IDF
    z49: Event sound ID
    z50: Production FE type
    """
    """State 0,1: [Lib] [Reproduction] Dummy_SubState"""
    assert event_m10_31_x12()
    """State 2: [Lib] [Condition] Dummy_SubState"""
    assert event_m10_31_x13()
    """State 3: [Lib] [Execution] Duel Start_SubState"""
    assert event_m10_31_x20(z43=z43, z44=z44, z45=z45, z46=z46, z47=z47, z48=z48, z49=z49, z50=z50)
    """State 4: End state"""
    return 0

def event_m10_31_x20(z43=10310400, z44=10310401, z45=10310402, z46=10310403, z47=10310404, z48=10310405,
                     z49=10, z50=16):
    """[Private] [Asynchronous] [Execution] Start of duel
    z43: Door instance IDA
    z44: Door instance IDB
    z45: Door instance IDC
    z46: Door instance IDD
    z47: Door instance IDE
    z48: Door instance IDF
    z49: Event sound ID
    z50: Production FE type
    """
    """State 0,1: Jingle sound playback"""
    PlaySoundAtPoint(z49)
    """State 4: Preparation time"""
    assert (GetStateTime() > 5) != 0
    """State 2: Start: open the door"""
    ChangeObjState(z43, 70)
    ChangeObjState(z44, 70)
    ChangeObjState(z45, 70)
    ChangeObjState(z46, 70)
    ChangeObjState(z47, 70)
    ChangeObjState(z48, 70)
    """State 3: Production FE display"""
    OpenPresentationWindow(z50)
    """State 5: End state"""
    return 0

def event_m10_31_x21(z34=_):
    """[Private] [Asynchronous] [Execution] Duel Request_Start
    z34: Duel type
    """
    """State 0,1: Motion start"""
    PlayerActionRequest(14)
    ProhibitInGameMenu(1)
    """State 2: Matching start"""
    StartDuelMatch(z34)
    """State 3: End state"""
    return 0

def event_m10_31_x22(z37=_, z38=30):
    """[Private] [Asynchronous] [Condition] Duel request_wait
    z37: Object instance ID
    z38: Hit group
    """
    """State 0,2: A little wait"""
    assert (GetStateTime() >= 0) != 0
    """State 1: Wait to examine"""
    IsObjSearched(0, z37)
    IsDuelStartPossible(0, 0)
    IsPlayerDamaged(0)
    CompareHowManyCharactersOnHitGroupAreHostileOrFriendly(0, z38, 0, 0, 2)
    IsPlayerPlayingMotion(0, 14, 0)
    IsDuelMatching(0, 0)
    HasDuelMatched(1, 1)
    if ConditionGroup(0):
        """State 4: Cancel"""
        return 0
    elif ConditionGroup(1):
        """State 3,5: Duel-matched"""
        return 1

def event_m10_31_x23():
    """[Private] [Asynchronous] [Execution] Duel request_wait_cancel"""
    """State 0,1: Motion cancellation"""
    EndPlayerActionRequest()
    """State 2: Duel cancellation"""
    CancelDuelMatch()
    ProhibitInGameMenu(0)
    """State 3: End state"""
    return 0

def event_m10_31_x24(z38=30, z36=10319001):
    """[Private] [Asynchronous] [Reproduction] Duel request_wait
    z38: Hit group
    z36: Key guide parameters
    """
    """State 0,1: Key guide creation"""
    CreateKeyGuideArea(34, z36)
    """State 2: Finish"""
    return 0

def event_m10_31_x25():
    """[Lib] [Reproduction] Rebirth fire _ sky"""
    """State 0,1: End state"""
    return 0

def event_m10_31_x26(z41=_, z42=_):
    """[Lib] [execute] Rebirth fire
    z41: Flag start ID
    z42: Flag end ID
    """
    """State 0,1: Flag reset"""
    SetEventFlagsInRange(z41, z42, 0)
    """State 2: End state"""
    return 0

def event_m10_31_x27():
    """[Lib] [Condition] Rebirth fire_sky"""
    """State 0,1: End state"""
    return 0

def event_m10_31_x28(z41=_, z42=_):
    """[Lib] [Preset] Rebirth
    z41: Flag start ID
    z42: Flag end ID
    """
    """State 0,1: [Lib] [Reproduction] Reproduction of fire_sky_SubState"""
    assert event_m10_31_x25()
    """State 3: [Lib] [Condition] Reproduction fire_Sky_SubState"""
    assert event_m10_31_x27()
    """State 2: [Lib] [Execution] Regenerative fire _SubState"""
    assert event_m10_31_x26(z41=z41, z42=z42)
    """State 4: End state"""
    return 0

def event_m10_31_x29(z39=131020017, z40=19):
    """[Lib] [Preset] Get trophy
    z39: Acquisition trigger_other flags
    z40: Trophy type
    """
    """State 0,1: Have you acquired a trophy?"""
    if GetEventFlag(z39) != 0:
        pass
    else:
        """State 2: Wait for specified flag"""
        CompareEventFlag(0, z39, 1)
        assert ConditionGroup(0)
        """State 3: Trophy acquisition"""
        AwardTrophy(z40)
    """State 4: End state"""
    return 0

def event_m10_31_x30():
    """[Private] [Asynchronous] [Execution] Duel request_wait_matched"""
    """State 0,3: Cannot cancel motion"""
    ForceDisablePlayerAnimationCancelling(1)
    DeleteKeyGuideArea()
    IsDuelMatching(0, 0)
    assert ConditionGroup(0)
    """State 1: Motion cancellation"""
    EndPlayerActionRequest()
    ForceDisablePlayerAnimationCancelling(0)
    """State 2: Duel cancellation"""
    CancelDuelMatch()
    ProhibitInGameMenu(0)
    """State 4: End state"""
    return 0

def event_m10_31_x31(z34=_, z35=10319000, z36=10319001, z37=_, z38=30, val1=2, goods1=62100000):
    """[Lib] [Asynchronous] [Preset] Duel Request
    z34: Duel type
    z35: Start key guide parameter
    z36: Cancel key guide parameter
    z37: Object instance ID
    z38: Hit group
    val1: Pledge
    goods1: item
    """
    """State 0,8: [Private] [Asynchronous] [Reproduction] Duel Request_Start_Training_SubState"""
    call = event_m10_31_x33(z38=z38, z35=z35, val1=val1)
    if call.Get() == 1:
        """State 10: [Private] [Asynchronous] [Condition] Duel request_Start_Key guide wait_Training_SubState"""
        call = event_m10_31_x32(z37=z37, z38=z38, val1=val1, goods1=goods1)
        if call.Get() == 1:
            pass
        elif call.Done():
            """State 3: [Private] [Asynchronous] [Execution] Duel Request_Start_SubState"""
            assert event_m10_31_x21(z34=z34)
            """State 4: [Private] [Asynchronous] [Reproduction] Duel Request_Standby_SubState"""
            assert event_m10_31_x24(z38=z38, z36=z36)
            """State 5: [Private] [Asynchronous] [Condition] Duel Request_Standby_SubState"""
            call = event_m10_31_x22(z37=z37, z38=z38)
            if call.Get() == 0:
                """State 6: [Private] [Asynchronous] [Execution] Duel Request_Wait_Cancel_SubState"""
                assert event_m10_31_x23()
            elif call.Get() == 1:
                """State 7: [Private] [Asynchronous] [Execution] Duel Request_Waiting_Matched_SubState"""
                assert event_m10_31_x30()
            """State 2: Rerun_2"""
            RestartMachine()
            Quit()
    elif call.Done():
        """State 9: [Private] [Asynchronous] [Condition] Duel Request_Start_Key Guide Invalidation Wait_Training_SubState"""
        assert event_m10_31_x34(z38=z38, val1=val1)
    """State 1: Rerun"""
    RestartMachine()

def event_m10_31_x32(z37=_, z38=30, val1=2, goods1=62100000):
    """[Private] [Asynchronous] [Condition] Duel request_Start_Key guide wait
    z37: Object instance ID
    z38: Hit group
    val1: Pledge
    goods1: item
    """
    """State 0,1: Wait to examine"""
    IsObjSearched(0, z37)
    CompareHowManyCharactersOnHitGroupAreHostileOrFriendly(1, z38, 0, 0, 2)
    IsPlayerInCovenant(1, val1, 0)
    IsOffline(1, 1)
    if ConditionGroup(1):
        pass
    elif ConditionGroup(0):
        """State 3: Item confirmation"""
        # goods:62100000:Token of Fidelity
        if (ItemCount(goods1, 1, 1, 0) > 1) != 1:
            """State 2: Don't have display"""
            # action:1013:"No %s\nin inventory", goods:62100000:Token of Fidelity
            DisplayOwnOkMenu(1013, 0, 0, 190, 2, goods1, 0)
            assert OkMenuDisplay() != 1
            Goto('L0')
        elif (GetPlayerCovenant() == 2) != 0:
            """State 4: Usage confirmation"""
            # action:1002:"Use %s?", goods:62100000:Token of Fidelity
            DisplayOwnYesNoMenu(1002, 0, 190, 2, goods1, 0)
            assert YesNoMenuDisplay() != 1
            """State 5: Result branch"""
            if (YesNoMenuResult() == 1) != 1:
                Goto('L0')
            else:
                pass
        else:
            pass
        """State 6: Establishment"""
        return 0
    """State 7: Not established"""
    Label('L0')
    return 1

def event_m10_31_x33(z38=30, z35=10319000, val1=2):
    """[Private] [Asynchronous] [Reproduction] Duel Request_Start
    z38: Hit group
    z35: Key guide parameters
    val1: Pledge
    """
    """State 0,1: Branch"""
    if (CompareHowManyCharactersOnHitGroupAreHostileOrFriendly(z38, 0, 1) != 1 and (GetPlayerCovenant()
        == val1) != 0 and IsOffline() != 1):
        """State 2: Key guide creation"""
        CreateKeyGuideArea(34, z35)
        """State 5: There are no enemies around"""
        return 1
    else:
        """State 3: Delete key guide"""
        DeleteKeyGuideArea()
        """State 4: There are enemies around"""
        return 0

def event_m10_31_x34(z38=30, val1=2):
    """[Private] [Asynchronous] [Condition] Duel request_Start_Key guide invalidation waiting
    z38: Hit group
    val1: Pledge
    """
    """State 0,1: Wait"""
    CompareHowManyCharactersOnHitGroupAreHostileOrFriendly(8, z38, 0, 0, 5)
    IsPlayerInCovenant(8, val1, 1)
    IsOffline(8, 0)
    assert ConditionGroup(8)
    """State 2: End state"""
    return 0

def event_m10_31_x35(z31=_):
    """[Lib] [DC] [Reproduction] NPC White Spirit_Gesture Management
    z31: Defeat flag
    """
    """State 0,1: Has the boss been destroyed?"""
    if GetEventFlag(z31) != 0:
        """State 3: Defeated"""
        return 1
    else:
        """State 2: Not defeated"""
        return 0

def event_m10_31_x36(z32=_):
    """[Lib] [DC] [Condition] NPC White Spirit_Gesture Management
    z32: Boss generator ID
    """
    """State 0,1: Has the boss's HP dropped below 0?"""
    CompareChrHpValue(0, z32, 0, 5)
    assert ConditionGroup(0)
    """State 2: End state"""
    return 0

def event_m10_31_x37(z33=_):
    """[Lib] [DC] [execution] NPC white spirit _ gesture management
    z33: Gesture flag
    """
    """State 0,1: Gesture flag ON"""
    SetEventFlag(z33, 1)
    """State 2: End state"""
    return 0

def event_m10_31_x38(z31=_, z32=_, z33=_):
    """[Lib] [DC] [Preset] NPC White Spirit_Gesture Management
    z31: Boss destruction flag
    z32: Boss generator ID
    z33: Gesture flag
    """
    """State 0,1: [Lib] [DC] [Reproduction] NPC White Spirit_Gesture Management_SubState"""
    call = event_m10_31_x35(z31=z31)
    if call.Get() == 1:
        pass
    elif call.Get() == 0:
        """State 3: [Lib] [DC] [Condition] NPC White Spirit_Gesture Management_SubState"""
        assert event_m10_31_x36(z32=z32)
        """State 2: [Lib] [DC] [Execution] NPC White Spirit_Gesture Management_SubState"""
        assert event_m10_31_x37(z33=z33)
    """State 4: End state"""
    return 0

def event_m10_31_x39(z25=10312020, z26=10311020, z27=10311015, z28=700000, z29=700001, z30=700002):
    """[Preset] Giudal door between Madura and Heide Great Fire Tower
    z25: Door instance ID
    z26: Instance ID of the madura lever
    z27: Heide Great Fire Tower lever instance ID
    z28: Point ID for Navimesh change
    z29: Point ID for door closing judgment_Start
    z30: Door closing judgment point ID_End
    """
    """State 0,1: Disable OBJ sync"""
    SetObjSync(z25, 0)
    """State 2: [Reproduction] Giudal door between Madura and Heide Great Fire Tower_SubState"""
    call = event_m10_31_x40(z25=z25, z26=z26, z27=z27, z28=z28)
    if call.Done():
        """State 3: [Condition] Giudal door between Madura and Heide Great Fire Tower_SubState"""
        assert event_m10_31_x41(z26=z26, z27=z27)
        """State 4: [Execution] Madura-Heide Great Fire Tower Gimmick Door_SubState"""
        assert event_m10_31_x42(z25=z25, z26=z26, z27=z27, z28=z28, z29=z29, z30=z30)
    elif call.Get() == 1:
        pass
    """State 5: End state"""
    return 0

def event_m10_31_x40(z25=10312020, z26=10311020, z27=10311015, z28=700000):
    """[Reproduction] Giudal door between Madura and Heide Great Fire Tower
    z25: Door instance ID
    z26: Instance ID of the madura lever
    z27: Heide Great Fire Tower lever instance ID
    z28: Point ID for Navimesh change
    """
    """State 0,2: Event ends for guests"""
    if IsGuest() != 0:
        """State 6: Simple end"""
        return 1
    else:
        """State 1: Initialize the OBJ state of the door"""
        InitializeObj(z25)
        """State 4: Navi Mesh Change: No entry"""
        AddNavimeshAttribute(z28, 2)
        """State 3: Enable key guide for lever"""
        DisableObjKeyGuide(z26, 0)
        DisableObjKeyGuide(z27, 0)
        """State 5: End state"""
        return 0

def event_m10_31_x41(z26=10311020, z27=10311015):
    """[Conditions] Gimmick door between Madura and Heide Great Fire Tower
    z26: Instance ID of the madura lever
    z27: Heide Great Fire Tower lever instance ID
    """
    """State 0,1: Lever operation standby"""
    CompareObjState(0, z26, 74, 0)
    CompareObjState(0, z27, 74, 0)
    CompareObjState(0, z26, 84, 0)
    CompareObjState(0, z27, 84, 0)
    assert ConditionGroup(0)
    """State 2: End state"""
    return 0

def event_m10_31_x42(z25=10312020, z26=10311020, z27=10311015, z28=700000, z29=700001, z30=700002):
    """[Execute] Gimmick door between Madura and Heide Great Fire Tower
    z25: Door instance ID
    z26: Instance ID of the madura lever
    z27: Heide Great Fire Tower lever instance ID
    z28: Point ID for Navimesh change
    z29: Point ID for door closing judgment_Start
    z30: Door closing judgment point ID_End
    """
    """State 0,1: OBJ state transition: Door: 70"""
    ChangeObjState(z25, 70)
    """State 2: Disabling the key guide of the lever"""
    DisableObjKeyGuide(z26, 1)
    DisableObjKeyGuide(z27, 1)
    """State 3: Has the door opened?"""
    CompareObjState(0, z25, 30, 0)
    assert ConditionGroup(0)
    """State 7: Navi Mesh Change: Enterable"""
    DeleteNavimeshAttribute(z28, 2)
    """State 4: Judgment of conditions for closing the door"""
    CompareStateTime(0, 15, 2, 15)
    IsPlayerInsidePoint(1, z29, z30, 1)
    if ConditionGroup(0):
        """State 5: OBJ state transition: Door: 80"""
        ChangeObjState(z25, 80)
        """State 6: Has the door closed?"""
        CompareObjState(0, z25, 10, 0)
        assert ConditionGroup(0)
    elif ConditionGroup(1):
        pass
    """State 8: End state"""
    return 0

def event_m10_31_x43(z22=10312000, z24=200000):
    """[Reproduction] Working bridge
    z22: Bridge instance ID
    z24: Navimesh switching point ID
    """
    """State 0,1: Already in operation?"""
    if CompareObjStateId(z22, 10, 1):
        """State 3: Waiting for the bridge anime to end"""
        assert CompareObjStateId(z22, 20, 0)
        """State 2: Navigation switching"""
        DeleteNavimeshAttribute(z24, 2)
        """State 5: Finish"""
        return 1
    else:
        """State 4: Not in operation"""
        return 0

def event_m10_31_x44(z23=10311010):
    """[Conditions] Working bridge
    z23: Lever instance ID
    """
    """State 0,1: Lever operation standby"""
    CompareObjState(0, z23, 20, 0)
    assert ConditionGroup(0)
    """State 2: End state"""
    return 0

def event_m10_31_x45(z22=10312000, z24=200000):
    """[Execution] Operation Bridge
    z22: Bridge instance ID
    z24: Navigation switching point ID
    """
    """State 0,1: OBJ state transition request: Bridge: 70"""
    ChangeObjState(z22, 70)
    """State 2: OBJ state transition completion wait: 20"""
    CompareObjState(0, z22, 20, 0)
    assert ConditionGroup(0)
    """State 3: Navigation switching"""
    DeleteNavimeshAttribute(z24, 2)
    """State 4: End state"""
    return 0

def event_m10_31_x46(z22=10312000, z23=10311010, z24=200000):
    """[Preset] Working bridge
    z22: Bridge instance ID
    z23: Lever instance ID
    z24: Navigation switching point ID
    """
    """State 0,1: [Reproduction] Operation Bridge_SubState"""
    call = event_m10_31_x43(z22=z22, z24=z24)
    if call.Get() == 1:
        pass
    elif call.Done():
        """State 2: [Condition] Working bridge_SubState"""
        assert event_m10_31_x44(z23=z23)
        """State 3: [Execution] Operation Bridge_SubState"""
        assert event_m10_31_x45(z22=z22, z24=z24)
    """State 4: End state"""
    return 0

def event_m10_31_x47(z15=10312010, z18=300000, z19=300001, z20=131000025, z21=131000026):
    """[Reproduction] Scaffolding expansion
    z15: Scaffold instance ID
    z18: Navi switching point ID_small
    z19: Navigation switching point ID_Large
    z20: Scaffold expansion flag ①
    z21: Scaffold expansion flag ②
    """
    """State 0,1: Is the scaffold fully expanded?"""
    if CompareObjStateId(z15, 20, 0):
        """State 3: Navigation switching: 2-stage expansion"""
        DeleteNavimeshAttribute(z18, 2)
        DeleteNavimeshAttribute(z19, 2)
    else:
        """State 9: Is it in the second stage of expansion?"""
        if CompareObjStateId(z15, 71, 0):
            """State 8: Hit invalidation: outside _2"""
            SetHitEnabled(20, 0)
            """State 10: Navigation switching: 1 stage expansion_2"""
            DeleteNavimeshAttribute(z18, 2)
            """State 7: Waiting for expansion: 2nd stage"""
            assert CompareObjStateId(z15, 20, 0)
            """State 11: Hit activation: outside"""
            SetHitEnabled(20, 1)
            """State 12: Navigation switching: 2-stage expansion_2"""
            DeleteNavimeshAttribute(z19, 2)
            """State 18: Scaffold expansion flag ② ON"""
            SetEventFlag(z21, 1)
        else:
            """State 5: Hit invalidation: outside"""
            SetHitEnabled(20, 0)
            """State 2: Is the scaffold expanded by one step?"""
            if CompareObjStateId(z15, 30, 0):
                """State 4: Navigation switching: 1 level expansion"""
                DeleteNavimeshAttribute(z18, 2)
            else:
                """State 13: Is it in the first stage of expansion?"""
                if CompareObjStateId(z15, 70, 0):
                    """State 17: Hit invalidation: inside_3"""
                    SetHitEnabled(10, 0)
                    """State 14: Waiting for expansion: Stage 1"""
                    assert CompareObjStateId(z15, 30, 0)
                    """State 15: Hit activation: inside"""
                    SetHitEnabled(10, 1)
                    """State 16: Navigation switching: 1 stage expansion_3"""
                    DeleteNavimeshAttribute(z18, 2)
                    """State 19: Scaffold expansion flag ① ON"""
                    SetEventFlag(z20, 1)
                else:
                    """State 6: Hit invalidation: inside"""
                    SetHitEnabled(10, 0)
                    """State 20: Not in operation"""
                    return 0
            """State 22: Expanded_1 stage"""
            return 2
    """State 21: Finish"""
    return 1

def event_m10_31_x48(z16=10311011, z17=10311012):
    """[Conditions] Scaffold expansion_1 stage
    z16: Lever instance ID_1
    z17: Lever instance ID_2
    """
    """State 0,1: Lever operation standby"""
    CompareObjState(0, z16, 20, 0)
    CompareObjState(0, z17, 20, 0)
    assert ConditionGroup(0)
    """State 2: End state"""
    return 0

def event_m10_31_x49(z15=10312010, z18=300000, z20=131000025):
    """[Execution] Scaffold extension_1 stage
    z15: Scaffold instance ID
    z18: Navigation switching point ID
    z20: Scaffold expansion flag ①
    """
    """State 0,1: OBJ state transition request: Scaffolding: 70"""
    ChangeObjState(z15, 70)
    """State 2: OBJ state transition completion wait: 30"""
    CompareObjState(0, z15, 30, 0)
    assert ConditionGroup(0)
    """State 3: Navigation switching"""
    DeleteNavimeshAttribute(z18, 2)
    """State 4: Hit activation: inside"""
    SetHitEnabled(10, 1)
    """State 5: Scaffold expansion flag ON"""
    SetEventFlag(z20, 1)
    """State 6: End state"""
    return 0

def event_m10_31_x50(z15=10312010, z19=300001, z21=131000026):
    """[Execution] Scaffold extension_2 stage
    z15: Scaffold instance ID
    z19: Navigation switching point ID
    z21: Scaffold expansion flag ②
    """
    """State 0,1: OBJ state transition request: Scaffolding: 71"""
    ChangeObjState(z15, 71)
    """State 2: OBJ state transition completion wait: 20"""
    CompareObjState(0, z15, 20, 0)
    assert ConditionGroup(0)
    """State 3: Navigation switching"""
    DeleteNavimeshAttribute(z19, 2)
    """State 4: Hit invalidation: outside"""
    SetHitEnabled(20, 1)
    """State 5: Scaffold expansion flag ON"""
    SetEventFlag(z21, 1)
    """State 6: End state"""
    return 0

def event_m10_31_x51(z15=10312010, z16=10311011, z17=10311012, z18=300000, z19=300001, z20=131000025,
                     z21=131000026):
    """[Preset] Scaffolding expansion
    z15: Scaffold instance ID
    z16: Lever instance ID_1
    z17: Lever instance ID_2
    z18: Navi switching point ID_small
    z19: Navigation switching point ID_Large
    z20: Scaffold expansion flag ①
    z21: Scaffold expansion flag ②
    """
    """State 0,1: [Reproduction] Scaffold extension_SubState"""
    call = event_m10_31_x47(z15=z15, z18=z18, z19=z19, z20=z20, z21=z21)
    if call.Get() == 1:
        pass
    elif call.Get() == 2:
        """State 5: [Condition] Scaffolding extension_2 stage_SubState"""
        Label('L0')
        assert event_m10_31_x52(z16=z16, z17=z17)
        """State 4: [Execution] Scaffold extension_2 stage_SubState"""
        assert event_m10_31_x50(z15=z15, z19=z19, z21=z21)
    elif call.Get() == 0:
        """State 2: [Condition] Scaffold extension_1 stage_SubState"""
        assert event_m10_31_x48(z16=z16, z17=z17)
        """State 3: [Execution] Scaffold extension_1 stage_SubState"""
        assert event_m10_31_x49(z15=z15, z18=z18, z20=z20)
        Goto('L0')
    """State 6: End state"""
    return 0

def event_m10_31_x52(z16=10311011, z17=10311012):
    """[Condition] Scaffolding extension_2 stage
    z16: Lever instance ID_1
    z17: Lever instance ID_2
    """
    """State 0,1: Lever operation standby"""
    CompareObjState(8, z16, 20, 0)
    CompareObjState(8, z17, 20, 0)
    assert ConditionGroup(8)
    """State 2: End state"""
    return 0

def event_m10_31_x53(z8=_, z9=_, z12=_):
    """[Reproduction] Lever appearing from the floor
    z8: Object instance ID of the storage hole
    z9: Lever object instance ID
    z12: Enemy flag for enemies
    """
    """State 0,1: Attach lever OBJ to storage hole OBJ"""
    AttachObjToObj(z8, 150, z9)
    DisableObjKeyGuide(z9, 1)
    """State 2: Determining the status of the storage hole OBJ"""
    if CompareObjStateId(z8, 10, 0):
        pass
    else:
        Goto('L0')
    """State 3: Defeat all enemy targets"""
    if GetEventFlag(z12) != 0:
        """State 5: Annihilated"""
        return 1
    else:
        """State 4: Not annihilated"""
        return 0
    """State 6: End immediately"""
    Label('L0')
    return 2

def event_m10_31_x54(z8=_, z9=_, z10=_, mode2=0, mode3=0, mode4=0, z11=_, z12=_):
    """[Preset] Lever that emerges from the floor
    z8: Object instance ID of the storage hole
    z9: Lever object instance ID
    z10: Enemy 1 generator ID
    mode2: Enemy 2 Generator ID
    mode3: Enemy 3 generator ID
    mode4: Enemy 4 generator ID
    z11: Point ID for Navimesh change
    z12: Enemy flag for enemies
    """
    """State 0,1: [Reproduction] Lever _SubState emerging from the floor"""
    call = event_m10_31_x53(z8=z8, z9=z9, z12=z12)
    if call.Get() == 2:
        """State 4: [Execution] Lever appearing from the floor_End immediately_SubState"""
        assert event_m10_31_x61(z8=z8, z9=z9, z11=z11)
    elif call.Get() == 1:
        """State 3: [Execution] Lever _SubState emerging from the floor"""
        Label('L0')
        assert event_m10_31_x56(z8=z8, z9=z9, z11=z11, z12=z12)
    elif call.Get() == 0:
        """State 2: [Condition] Lever appearing from the floor_SubState"""
        assert event_m10_31_x55(z10=z10, mode2=mode2, mode3=mode3, mode4=mode4)
        Goto('L0')
    """State 5: End state"""
    return 0

def event_m10_31_x55(z10=_, mode2=0, mode3=0, mode4=0):
    """[Conditions] Lever emerging from the floor
    z10: Enemy 1 generator ID
    mode2: Enemy 2 Generator ID
    mode3: Enemy 3 generator ID
    mode4: Enemy 4 generator ID
    """
    """State 0,1: Enemy 1 death check"""
    IsChrDeadOrRespawnOver(0, z10, 1)
    assert ConditionGroup(0)
    """State 6: Enemy 2 presence determination"""
    if (not mode2) != 0:
        """State 5: There are no more enemies"""
        Label('L0')
    else:
        """State 2: Enemy 2 death check"""
        IsChrDeadOrRespawnOver(0, mode2, 1)
        assert ConditionGroup(0)
        """State 7: Enemy 3 presence check"""
        if (not mode3) != 0:
            Goto('L0')
        else:
            """State 3: Enemy 3 death determination"""
            IsChrDeadOrRespawnOver(0, mode3, 1)
            assert ConditionGroup(0)
            """State 8: Enemy 4 presence check"""
            if (not mode4) != 0:
                Goto('L0')
            else:
                """State 4: Enemy 4 death determination"""
                IsChrDeadOrRespawnOver(0, mode4, 1)
                assert ConditionGroup(0)
    """State 9: End state"""
    return 0

def event_m10_31_x56(z8=_, z9=_, z11=_, z12=_):
    """[Execution] Lever emerging from the floor
    z8: Object instance ID of the storage hole
    z9: Lever object instance ID
    z11: Point ID for Navimesh change
    z12: Enemy flag for enemies
    """
    """State 0,4: Enemy flag for enemies to be subjugated: ON"""
    SetEventFlag(z12, 1)
    """State 5: Waiting for enemy death to end"""
    CompareStateTime(0, 5, 2, 5)
    assert ConditionGroup(0)
    """State 2: Run live animation"""
    ChangeObjState(z8, 70)
    """State 6: End judgment of animation"""
    CompareObjState(0, z8, 20, 0)
    assert ConditionGroup(0)
    """State 1: Enable lever key guide"""
    DisableObjKeyGuide(z9, 0)
    """State 3: Navigation mesh change"""
    AddNavimeshAttribute(z11, 2)
    """State 7: End state"""
    return 0

def event_m10_31_x57(z13=_, z14=_):
    """[Preset] Pillars and chairs to be destroyed
    z13: OBJ instance ID to be destroyed
    z14: Point ID to change Navimesh
    """
    """State 0,1: [Reproduction] Pillars and chairs to be destroyed _SubState"""
    assert event_m10_31_x58(z14=z14)
    """State 2: [Condition] Pillars and chairs to be destroyed _SubState"""
    assert event_m10_31_x59(z13=z13)
    """State 3: [Execution] Pillars and chairs to be destroyed _SubState"""
    assert event_m10_31_x60(z14=z14)
    """State 4: End state"""
    return 0

def event_m10_31_x58(z14=_):
    """[Reproduction] Pillars and chairs destroyed
    z14: Point ID to change Navimesh
    """
    """State 0,1: Navimesh change: no traffic"""
    AddNavimeshAttribute(z14, 2)
    """State 2: End state"""
    return 0

def event_m10_31_x59(z13=_):
    """[Condition] Pillars and chairs to be destroyed
    z13: OBJ instance ID to be destroyed
    """
    """State 0,1: Was OBJ destroyed?"""
    CompareObjState(0, z13, 20, 0)
    assert ConditionGroup(0)
    """State 2: End state"""
    return 0

def event_m10_31_x60(z14=_):
    """[Execution] Pillars and chairs destroyed
    z14: Point ID to change Navimesh
    """
    """State 0,1: Change of Navimesh: Passable"""
    DeleteNavimeshAttribute(z14, 2)
    """State 2: End state"""
    return 0

def event_m10_31_x61(z8=_, z9=_, z11=_):
    """[Execution] Lever appearing from the floor
    z8: Object instance ID of the storage hole
    z9: Lever object instance ID
    z11: Point ID for Navimesh change
    """
    """State 0,3: End judgment of animation"""
    CompareObjState(0, z8, 20, 0)
    assert ConditionGroup(0)
    """State 1: Enable lever key guide"""
    DisableObjKeyGuide(z9, 0)
    """State 2: Navigation mesh change"""
    AddNavimeshAttribute(z11, 2)
    """State 4: End state"""
    return 0

def event_m10_31_x62(z1=131000081, z2=500000, z3=500000, z4=101, z5=1031000, z6=131020080, z7=842, mode1=0):
    """[Preset] Heavy cavalry soldiers only _ boss battle
    z1: Boss destruction flag
    z2: Start point ID
    z3: End point ID
    z4: Sound ID
    z5: Boss Battle ID
    z6: Other flags for logic
    z7: Generator ID
    mode1: BGM stop time
    """
    """State 0,1: [Reproduction] Heavy Cavalry: Soldiers only_Boss Battle_Start_SubState"""
    call = event_m10_31_x63(z1=z1)
    if call.Get() == 1:
        pass
    elif call.Get() == 0:
        """State 5: [Conditions] Heavy Cavalry: Soldiers only_Boss Battle_Start_SubState"""
        assert event_m10_31_x64(z2=z2, z3=z3)
        """State 4: [Execution] Heavy cavalry: Soldier only _ Boss battle _ Immortal release_SubState"""
        assert event_m10_31_x65(z4=z4, z5=z5, z6=z6, z7=z7)
        """State 2: [Reproduction] Heavy Cavalry: Soldier only _ Boss Battle _ Sky _ SubState"""
        assert event_m10_31_x66()
        """State 6: [Conditions] Heavy Cavalry: Soldiers only_Boss Battle_End Judgment_SubState"""
        assert event_m10_31_x67(z5=z5)
        """State 3: [Execution] Heavy Cavalry: Soldiers only_Boss Battle_End_SubState"""
        assert event_m10_31_x68(z4=z4, z5=z5, z6=z6, mode1=mode1)
    """State 7: End state"""
    return 0

def event_m10_31_x63(z1=131000081):
    """[Reproduction] Heavy Cavalry: Soldiers only_Boss Battle_Start
    z1: Boss destruction flag
    """
    """State 0,1: Are you destroying the boss?"""
    if GetEventFlag(z1) != 0:
        """State 3: Defeated the boss"""
        return 1
    else:
        """State 2: Not destroy the boss"""
        return 0

def event_m10_31_x64(z2=500000, z3=500000):
    """[Conditions] Heavy cavalry: Soldier only_Boss Battle_Start
    z2: Start point ID
    z3: End point ID
    """
    """State 0,1: Did you enter the boss room point?"""
    IsPlayerInsidePoint(8, z2, z3, 1)
    IsHost(8, 1, 0)
    SetConditionGroup(0, 8)
    IsPlayerInsidePoint(9, z2, z3, 1)
    IsHost(9, 0, 0)
    SetConditionGroup(0, 9)
    assert ConditionGroup(0)
    """State 2: End state"""
    return 0

def event_m10_31_x65(z4=101, z5=1031000, z6=131020080, z7=842):
    """[Execution] Heavy cavalry: Soldier only
    z4: Sound ID
    z5: Boss Battle ID
    z6: Other flags for logic
    z7: Generator ID
    """
    """State 0,4: Immortalization"""
    SetEnemySpEffect(z7, 91320030, 19, 4)
    """State 3: Boss BGM playback"""
    PlaySoundAtPoint(z4)
    """State 1: Boss battle start notification"""
    StartBossFight(z5)
    """State 2: Boss battle flag notification for logic"""
    SetEventFlag(z6, 1)
    """State 5: End state"""
    return 0

def event_m10_31_x66():
    """[Reproduction] Heavy Cavalry: Soldiers only_Boss Battle_Sky"""
    """State 0,1: End state"""
    return 0

def event_m10_31_x67(z5=1031000):
    """[Conditions] Heavy cavalry: Soldier only_Boss battle_End determination
    z5: Boss Battle ID
    """
    """State 0,1: Did you beat the boss?"""
    IsEventBossKill(0, z5, 0, 1)
    assert ConditionGroup(0)
    """State 2: End state"""
    return 0

def event_m10_31_x68(z4=101, z5=1031000, z6=131020080, mode1=0):
    """[Execution] Heavy Cavalry: Soldiers only_Boss Battle_End
    z4: Sound ID
    z5: Boss Battle ID
    z6: Other flags for logic
    mode1: BGM stop time
    """
    """State 0,1: Logic flag OFF"""
    SetEventFlag(z6, 0)
    """State 2: Boss battle end notification"""
    EndBossFight(z5)
    """State 4: BGM stop standby"""
    assert (GetStateTime() > mode1) != 0
    """State 3: Boss BGM stop"""
    StopSoundAtPoint(z4)
    """State 5: End state"""
    return 0

def event_m10_31_111412():
    """OBJ: Miracle Person: Grave"""
    """State 0,1: [Lib] NPC: Grave Placement: General Purpose_SubState"""
    event_m10_31_x0(z67=104321, z68=10314100, z69=150, z70=7690)

def event_m10_31_111413():
    """OBJ: Miracle Person: Key Guide"""
    """State 0,1: [Lib] NPC: Grave: Key Guide: General Purpose_SubState"""
    # npc:7690:Licia of Lindeldt
    event_m10_31_x3(z62=131010110, z63=131020111, z64=104320, z65=10314100, z66=111412, npc1=7690)

def event_m10_31_111414():
    """OBJ: Miracle: Death decision"""
    """State 0,1: [Lib] NPC: Death determination: General purpose_SubState"""
    event_m10_31_x4(z60=150, z61=104321)

def event_m10_31_111492():
    """OBJ: Guardian Knight: Grave"""
    """State 0,1: [Lib] NPC: Grave Placement: General Purpose_SubState"""
    event_m10_31_x0(z67=104400, z68=10314000, z69=315, z70=7850)

def event_m10_31_111493():
    """OBJ: Guardian Knight: Key Guide"""
    """State 0,1: [Lib] NPC: Grave: Key Guide: General Purpose_SubState"""
    # npc:7850:Blue Sentinel Targray
    event_m10_31_x3(z62=131010010, z63=131020011, z64=104400, z65=10314000, z66=111492, npc1=7850)

def event_m10_31_118100():
    """Multi-use NPC: Swordsman (Male): White Phantom Sign Display"""
    """State 0,1: NPC White Phantom Appearance: Unconditional_SubState"""
    event_m10_31_x18(z51=616)

def event_m10_31_118110():
    """Multi-use NPC: Induction white spirit: Koshiro phantom sign display"""
    """State 0,1: Flag judgment"""
    CompareEventFlag(0, 100790, 1)
    CompareEventFlag(0, 100952, 1)
    assert ConditionGroup(0)
    """State 2: NPC White Phantom Appearance: Unconditional_SubState"""
    event_m10_31_x18(z51=617)

def event_m10_31_120010():
    """Trophy: Guardian Pledge"""
    """State 0,2: [Lib] [Preset] Get Trophy_SubState"""
    assert event_m10_31_x29(z39=131020017, z40=19)
    """State 1: System: Exit"""
    EndMachine()

def event_m10_31_4031000():
    """[DC] NPC White Spirit_Gesture Management_Heavy Cavalry: Soldiers only"""
    """State 0,2: [Lib] [DC] [Preset] NPC White Spirit_Gesture Management_SubState"""
    assert event_m10_31_x38(z31=131000081, z32=842, z33=131020082)
    """State 1: Finish"""
    EndMachine()

def event_m10_31_4031010():
    """[DC] NPC White Spirit_Gesture Management_Onstein"""
    """State 0,2: [Lib] [DC] [Preset] NPC White Spirit_Gesture Management_SubState"""
    assert event_m10_31_x38(z31=131000086, z32=843, z33=131020087)
    """State 1: Finish"""
    EndMachine()

